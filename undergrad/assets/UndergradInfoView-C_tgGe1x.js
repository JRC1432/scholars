import{S as D,a3 as R,aE as Y,r as m,aa as $,$ as z,o as s,c as l,e as o,a as i,w as n,a8 as N,ad as O,a5 as r,a7 as j,M as G,g,l as a,a4 as b,m as W,f as H,u as J,k as K,n as X,a9 as Z,af as ee,ab as te}from"./index-Lhrr584p.js";import{a as oe,Q as p}from"./QTable-D0_fp5GO.js";import{Q as ae}from"./QTr-BVK3Kbsf.js";import{Q as f}from"./QSelect-CbOoRKNU.js";import{C as se}from"./ClosePopup-B8isQGvy.js";import{_ as le}from"./ScInfo-LJxXJbwl.js";import{c as re}from"./createVueComponent-CH2njvqE.js";import"./sweetalert2.all-Ced_kw8w.js";import"./QList-DakvS0LG.js";import"./QMarkupTable-DNJNZBGt.js";import"./QMenu-kJOoyUX5.js";import"./selection-Dtef2Nxx.js";import"./QItemLabel-DH87CdX2.js";import"./QBreadcrumbs-Bw8Un86e.js";/**
 * @license @tabler/icons-vue v3.2.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ne=re("outline","clipboard-text","IconClipboardText",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 12h6",key:"svg-2"}],["path",{d:"M9 16h6",key:"svg-3"}]]);const de={class:"q-pa-lg"},ie=i("div",{class:"q-pa-md text-center text-bold primary-text text-h4"}," Undergraduate Records ",-1),ue={class:"q-pa-lg"},me=i("span",{class:"text-weight-bold",color:"primary"},"NEW",-1),pe={class:"q-px-sm"},ce=i("span",{class:"text-bold"},"SPAS ID:",-1),fe={class:"q-px-sm"},ye=i("span",{class:"text-bold"},"School",-1),_e={class:"q-px-sm"},be=i("span",{class:"text-bold"},"Courses",-1),he={class:"q-px-sm"},ve=i("span",{class:"text-bold"},"School Year",-1),we={class:"q-px-sm"},ge=i("span",{class:"text-bold"},"Term Type",-1),ke={class:"q-px-sm"},Ve=i("span",{class:"text-bold"},"Term",-1),xe={class:"q-pa-md q-gutter-sm"},Pe={__name:"UndergradInfoView",setup(Ce){D("$user"),R(),R();const y=D("$axios"),I=Y(),Q=m([]),k=m(""),U=m({rowsPerPage:10}),V=m(!1),c=d=>d==null||d===""?"You must make a selection!":!0,u=$({spasid:""}),M=[{name:"spas_id",required:!0,label:"SPAS ID",align:"left",field:"spas_id",sortable:!0},{name:"course",required:!0,label:"Course",align:"left",field:"course",sortable:!0},{name:"discipline",required:!0,label:"Discipline",align:"left",field:"discipline",sortable:!0},{name:"schools",align:"left",label:"School",field:"schools",sortable:!0},{name:"sy_start",align:"left",label:"School Year",field:"sy_start",sortable:!0},{name:"term_start",align:"left",label:"Term",field:"term_start",sortable:!0},{name:"term_type",align:"left",label:"Type",field:"term_type",sortable:!0},{name:"latest_flag",align:"left",label:"Current",field:"latest_flag",sortable:!0}],T=m(),q=m();var h=[];const x=m(h);var v=[];const C=m(v);var w=[];const S=m(w);z(()=>{A()});const A=()=>{q.value=I.params.id;var d=new FormData;d.append("id",q.value),y.post("/read.php?readUndergradID",d).then(t=>{Q.value=t.data}),y.post("/read.php?spasid",d).then(t=>{T.value=t.data}),y.get("/read.php?school").then(t=>{h=t.data}),y.get("/read.php?courses").then(t=>{v=t.data}),y.get("/read.php?school_years").then(t=>{w=t.data})},E=(d,t)=>{if(d===""){t(()=>{x.value=h});return}t(()=>{const e=d.toLowerCase();x.value=h.filter(_=>_.label.toLowerCase().includes(e))})},F=(d,t)=>{if(d===""){t(()=>{C.value=v});return}t(()=>{const e=d.toLowerCase();C.value=v.filter(_=>_.label.toLowerCase().includes(e))})},L=(d,t)=>{if(d===""){t(()=>{S.value=w});return}t(()=>{const e=d.toLowerCase();S.value=w.filter(_=>_.label.toLowerCase().includes(e))})},P=[{label:"Semestral",value:"Semestral",color:"primary"},{label:"Trimestral",value:"Trimestral",color:"primary"},{label:"Quarterly",value:"Quarterly",color:"primary"}],B=()=>{V.value=!0};return(d,t)=>(s(),l(r,null,[o(le),i("div",de,[o(N,{flat:"",class:"my-card surface-container rounded-borders-20"},{default:n(()=>[ie,i("div",ue,[o(oe,{flat:"",bordered:"",rows:Q.value,columns:M,"row-key":"name",filter:k.value,pagination:U.value,"onUpdate:pagination":t[1]||(t[1]=e=>U.value=e),class:"no-border surface-container"},{"top-right":n(()=>[o(j,{borderless:"",dense:"",debounce:"300",modelValue:k.value,"onUpdate:modelValue":t[0]||(t[0]=e=>k.value=e),placeholder:"Search"},{append:n(()=>[o(G,{name:"search"})]),_:1},8,["modelValue"])]),"top-left":n(()=>[o(g,{style:{color:"goldenrod"},outline:"",rounded:"",icon:"add",onClick:B},{default:n(()=>[a("New Undergraduate Record")]),_:1})]),body:n(e=>[o(ae,{prop:e},{default:n(()=>[o(p,{key:"spas_id",props:e},{default:n(()=>[a(b(e.row.spas_id),1)]),_:2},1032,["props"]),o(p,{key:"course",props:e},{default:n(()=>[a(b(e.row.course),1)]),_:2},1032,["props"]),o(p,{key:"discipline",props:e},{default:n(()=>[a(b(e.row.discipline),1)]),_:2},1032,["props"]),o(p,{key:"schools",props:e},{default:n(()=>[a(b(e.row.schools),1)]),_:2},1032,["props"]),o(p,{key:"sy_start",props:e},{default:n(()=>[a(b(e.row.sy_start),1)]),_:2},1032,["props"]),o(p,{key:"term_start",props:e},{default:n(()=>[e.row.term_type===2?(s(),l(r,{key:0},[e.row.term_start==1?(s(),l(r,{key:0},[a("1st")],64)):e.row.term_start==2?(s(),l(r,{key:1},[a("2nd")],64)):e.row.term_start==3?(s(),l(r,{key:2},[a("Summer")],64)):(s(),l(r,{key:3},[a("--")],64))],64)):e.row.term_type===3?(s(),l(r,{key:1},[e.row.term_start==1?(s(),l(r,{key:0},[a("1st")],64)):e.row.term_start==2?(s(),l(r,{key:1},[a("2nd")],64)):e.row.term_start==3?(s(),l(r,{key:2},[a("3rd")],64)):e.row.term_start==4?(s(),l(r,{key:3},[a("Summer")],64)):(s(),l(r,{key:4},[a("--")],64))],64)):e.row.term_type===4?(s(),l(r,{key:2},[e.row.term_start==1?(s(),l(r,{key:0},[a("1st")],64)):e.row.term_start==2?(s(),l(r,{key:1},[a("2nd")],64)):e.row.term_start==3?(s(),l(r,{key:2},[a("3rd")],64)):e.row.term_start==4?(s(),l(r,{key:3},[a("4th")],64)):(s(),l(r,{key:4},[a("--")],64))],64)):W("",!0)]),_:2},1032,["props"]),o(p,{key:"term_type",props:e},{default:n(()=>[e.row.term_type==2?(s(),l(r,{key:0},[a("Semestral")],64)):e.row.term_type==3?(s(),l(r,{key:1},[a("Trimestral")],64)):e.row.term_type==4?(s(),l(r,{key:2},[a("Quarterly")],64)):(s(),l(r,{key:3},[a("--")],64))]),_:2},1032,["props"]),o(p,{key:"latest_flag",props:e},{default:n(()=>[e.row.latest_flag===1?(s(),l(r,{key:0},[a(" Yes ")],64)):e.row.latest_flag===0?(s(),l(r,{key:1},[a(" No ")],64)):(s(),l(r,{key:2},[a(" -- ")],64))]),_:2},1032,["props"])]),_:2},1032,["prop"])]),_:1},8,["rows","filter","pagination"])])]),_:1})]),o(O,{modelValue:V.value,"onUpdate:modelValue":t[9]||(t[9]=e=>V.value=e),persistent:""},{default:n(()=>[o(N,{style:{"min-width":"500px",width:"500px"},class:"rounded-borders-20"},{default:n(()=>[i("form",{id:"UpReplyForm",onSubmit:t[8]||(t[8]=te((...e)=>d.UpdateReplyNow&&d.UpdateReplyNow(...e),["prevent","stop"]))},[o(H,null,{default:n(()=>[o(J(ne),{size:30,"stroke-width":"2"}),o(K,null,{default:n(()=>[me,a(" UNDERGRADUATE RECORDS ")]),_:1}),X(o(g,{flat:"",round:"",dense:"",icon:"close"},null,512),[[se]])]),_:1}),o(Z,null,{default:n(()=>[i("div",pe,[ce,o(f,{ref:"refspasid",options:T.value,modelValue:u.spasid,"onUpdate:modelValue":t[2]||(t[2]=e=>u.spasid=e),"emit-value":"",name:"spasid",outlined:"",dense:"","hide-bottom-space":"",rules:[c]},null,8,["options","modelValue","rules"])]),i("div",fe,[ye,o(f,{ref:"refschool",outlined:"",dense:"","hide-bottom-space":"",behavior:"menu","emit-value":"","map-options":"","use-input":"","input-debounce":"0",modelValue:u.school,"onUpdate:modelValue":t[3]||(t[3]=e=>u.school=e),name:"school",options:x.value,onFilter:E,rules:[c],clearable:""},null,8,["modelValue","options","rules"])]),i("div",_e,[be,o(f,{ref:"refcourses",outlined:"",dense:"","hide-bottom-space":"",behavior:"menu","emit-value":"","map-options":"","use-input":"","input-debounce":"0",modelValue:u.courses,"onUpdate:modelValue":t[4]||(t[4]=e=>u.courses=e),name:"courses",options:C.value,onFilter:F,rules:[c],clearable:""},null,8,["modelValue","options","rules"])]),i("div",he,[ve,o(f,{ref:"refsy",outlined:"",dense:"","hide-bottom-space":"",behavior:"menu","emit-value":"","map-options":"","use-input":"","input-debounce":"0",modelValue:u.sy,"onUpdate:modelValue":t[5]||(t[5]=e=>u.sy=e),name:"sy",options:S.value,onFilter:L,rules:[c],mask:"#### - ####",clearable:""},null,8,["modelValue","options","rules"])]),i("div",we,[ge,o(f,{ref:"reftermtype",options:P,modelValue:u.termtype,"onUpdate:modelValue":t[6]||(t[6]=e=>u.termtype=e),"emit-value":"",name:"termtype",outlined:"",dense:"","hide-bottom-space":"",rules:[c]},null,8,["modelValue","rules"])]),i("div",ke,[Ve,o(f,{ref:"refterm",options:d.termoptions,modelValue:u.term,"onUpdate:modelValue":t[7]||(t[7]=e=>u.term=e),"emit-value":"",name:"term",outlined:"",dense:"","hide-bottom-space":"",rules:[c]},null,8,["options","modelValue","rules"])])]),_:1}),o(ee,{align:"center"},{default:n(()=>[i("div",xe,[o(g,{outline:"",style:{color:"goldenrod"},label:"Save",type:"submit"}),o(g,{outline:"",style:{color:"goldenrod"},label:"Reset"})])]),_:1})],32)]),_:1})]),_:1},8,["modelValue"])],64))}};export{Pe as default};
